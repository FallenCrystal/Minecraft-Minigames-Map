title @a[tag=bw.player] title ["\u00a7aBedwars"]
title @a[tag=bw.player] subtitle ["\u00a7fEnjoy the game!"]
#fill -215 0 120 -393 0 300 air replace #minecraft:bedblocks
#fill -215 1 120 -393 1 300 air replace #minecraft:bedblocks
#fill -215 2 120 -393 2 300 air replace #minecraft:bedblocks
#fill -215 3 120 -393 3 300 air replace #minecraft:bedblocks
#fill -215 4 120 -393 4 300 air replace #minecraft:bedblocks
#fill -215 5 120 -393 5 300 air replace #minecraft:bedblocks
#fill -215 6 120 -393 6 300 air replace #minecraft:bedblocks
#fill -215 7 120 -393 7 300 air replace #minecraft:bedblocks
#fill -215 8 120 -393 8 300 air replace #minecraft:bedblocks
#fill -215 9 120 -393 9 300 air replace #minecraft:bedblocks
#fill -215 10 120 -393 10 300 air replace #minecraft:bedblocks
#
#fill -215 11 120 -393 11 300 air replace #minecraft:bedblocks
#fill -215 12 120 -393 12 300 air replace #minecraft:bedblocks
#fill -215 13 120 -393 13 300 air replace #minecraft:bedblocks
#fill -215 14 120 -393 14 300 air replace #minecraft:bedblocks
#fill -215 15 120 -393 15 300 air replace #minecraft:bedblocks
#fill -215 16 120 -393 16 300 air replace #minecraft:bedblocks
#fill -215 17 120 -393 17 300 air replace #minecraft:bedblocks
#fill -215 18 120 -393 18 300 air replace #minecraft:bedblocks
#fill -215 19 120 -393 19 300 air replace #minecraft:bedblocks
#fill -215 20 120 -393 20 300 air replace #minecraft:bedblocks
#fill -215 21 120 -393 21 300 air replace #minecraft:bedblocks
#fill -215 22 120 -393 22 300 air replace #minecraft:bedblocks
#fill -215 23 120 -393 23 300 air replace #minecraft:bedblocks
#fill -215 24 120 -393 24 300 air replace #minecraft:bedblocks
#fill -215 25 120 -393 25 300 air replace #minecraft:bedblocks
#fill -215 26 120 -393 26 300 air replace #minecraft:bedblocks
#fill -215 27 120 -393 27 300 air replace #minecraft:bedblocks
#fill -215 28 120 -393 28 300 air replace #minecraft:bedblocks
#fill -215 29 120 -393 29 300 air replace #minecraft:bedblocks
#fill -215 30 120 -393 30 300 air replace #minecraft:bedblocks
#fill -215 31 120 -393 31 300 air replace #minecraft:bedblocks
#fill -215 32 120 -393 32 300 air replace #minecraft:bedblocks
#fill -215 33 120 -393 33 300 air replace #minecraft:bedblocks
#fill -215 34 120 -393 34 300 air replace #minecraft:bedblocks
#fill -215 35 120 -393 35 300 air replace #minecraft:bedblocks
#fill -215 36 120 -393 36 300 air replace #minecraft:bedblocks
#fill -215 37 120 -393 37 300 air replace #minecraft:bedblocks
#fill -215 38 120 -393 38 300 air replace #minecraft:bedblocks
#fill -215 39 120 -393 39 300 air replace #minecraft:bedblocks
#fill -215 40 120 -393 40 300 air replace #minecraft:bedblocks
#fill -215 41 120 -393 41 300 air replace #minecraft:bedblocks
#fill -215 42 120 -393 42 300 air replace #minecraft:bedblocks
#fill -215 43 120 -393 43 300 air replace #minecraft:bedblocks
#fill -215 44 120 -393 44 300 air replace #minecraft:bedblocks
#fill -215 45 120 -393 45 300 air replace #minecraft:bedblocks
#fill -215 46 120 -393 46 300 air replace #minecraft:bedblocks
#fill -215 47 120 -393 47 300 air replace #minecraft:bedblocks
#fill -215 48 120 -393 48 300 air replace #minecraft:bedblocks
#fill -215 49 120 -393 49 300 air replace #minecraft:bedblocks
#fill -215 50 120 -393 50 300 air replace #minecraft:bedblocks
#fill -215 51 120 -393 51 300 air replace #minecraft:bedblocks
#fill -215 52 120 -393 52 300 air replace #minecraft:bedblocks
#fill -215 53 120 -393 53 300 air replace #minecraft:bedblocks
#fill -215 54 120 -393 54 300 air replace #minecraft:bedblocks
#fill -215 55 120 -393 55 300 air replace #minecraft:bedblocks
#fill -215 56 120 -393 56 300 air replace #minecraft:bedblocks
#fill -215 57 120 -393 57 300 air replace #minecraft:bedblocks
#fill -215 58 120 -393 58 300 air replace #minecraft:bedblocks
#fill -215 59 120 -393 59 300 air replace #minecraft:bedblocks
#fill -215 60 120 -393 60 300 air replace #minecraft:bedblocks
#fill -215 61 120 -393 61 300 air replace #minecraft:bedblocks
#fill -215 62 120 -393 62 300 air replace #minecraft:bedblocks
#fill -215 63 120 -393 63 300 air replace #minecraft:bedblocks
#fill -215 64 120 -393 64 300 air replace #minecraft:bedblocks
#fill -215 65 120 -393 65 300 air replace #minecraft:bedblocks
#fill -215 66 120 -393 66 300 air replace #minecraft:bedblocks
#fill -215 67 120 -393 67 300 air replace #minecraft:bedblocks
#fill -215 68 120 -393 68 300 air replace #minecraft:bedblocks
#fill -215 69 120 -393 69 300 air replace #minecraft:bedblocks
#fill -215 70 120 -393 70 300 air replace #minecraft:bedblocks
#fill -215 71 120 -393 71 300 air replace #minecraft:bedblocks
#fill -215 72 120 -393 72 300 air replace #minecraft:bedblocks
execute as @e[tag=diamond,type=marker] at @s run summon minecraft:area_effect_cloud ~ ~1.8 ~ {Age:-2147483648,Duration:-1,WaitTime: -2147483648,Tags:["bedwars","diamond.title"],CustomName:'"\\u00a7b\\u00a7l钻石"',CustomNameVisible:1b}
execute as @e[tag=diamond,type=marker] at @s run summon minecraft:area_effect_cloud ~ ~1.5 ~ {Age:-2147483648,Duration:-1,WaitTime: -2147483648,Tags:["bedwars","diamond.subtitle"],CustomName:'"To be edited"',CustomNameVisible:1b}
execute as @e[tag=emerald,type=marker] at @s run summon minecraft:area_effect_cloud ~ ~1.8 ~ {Age:-2147483648,Duration:-1,WaitTime: -2147483648,Tags:["bedwars","emerald.title"],CustomName:'"\\u00a72绿宝石"',CustomNameVisible:1b}
execute as @e[tag=emerald,type=marker] at @s run summon minecraft:area_effect_cloud ~ ~1.5 ~ {Age:-2147483648,Duration:-1,WaitTime: -2147483648,Tags:["bedwars","emerald.subtitle"],CustomName:'"To be edited"',CustomNameVisible:1b}

tellraw @a[tag=bw.player] ["\u00a7a重置完毕！"]
scoreboard players set bw.reset board 0
forceload remove -573 299 -397 121
schedule clear bedwars/resets/mogu
schedule clear bedwars/resets/unnamed

tag @a[team=bw.wait] add bw.play
title @a[tag=bw.player] reset
title @a[tag=bw.player] title ["\u00a7eBedwars"]
title @a[tag=bw.player] subtitle ["\u00a7a游戏开始！"]
execute if score bw.mode state matches 0..3 run execute as @a[team=bw.wait] at @s run function minecraft:bedwars/before/random_team
execute if score bw.mode state matches 4..7 run execute as @a[team=bw.wait] at @s run function minecraft:bedwars/before/random_team_2teams

tellraw @a ["\u00a7a\u00a7l[MESSAGE] \u00a76起床战争\u00a7b游戏已经开始！"]
tellraw @a[team=bw.blue] ["\u00a76你加入了\u00a79蓝队"]
tellraw @a[team=bw.green] ["\u00a76你加入了\u00a7a绿队"]
tellraw @a[team=bw.red] ["\u00a76你加入了\u00a7c红队"]
tellraw @a[team=bw.yellow] ["\u00a76你加入了\u00a7e黄队"]
gamemode adventure @a[team=bw.yellow]
gamemode adventure @a[team=bw.blue]
gamemode adventure @a[team=bw.green]
gamemode adventure @a[team=bw.red]
# execute as @a run function minecraft:bedwars/before/teleport
tp @a[team=bw.yellow] -383 30 210 -90 0
tp @a[team=bw.blue] -303 30 288 -180 0
tp @a[team=bw.green] -225 30 208 90 0
tp @a[team=bw.red] -305 30 130 0 0

scoreboard players set bd.blue state 1
scoreboard players set bd.green state 1
scoreboard players set bd.yellow state 1
scoreboard players set bd.red state 1
scoreboard players set bw.blue state 1
scoreboard players set bw.green state 1
scoreboard players set bw.yellow state 1
scoreboard players set bw.red state 1

data merge block -302 30 131 {Items: []}
data merge block -226 30 211 {Items: []}
data merge block -306 30 287 {Items: []}
data merge block -382 30 207 {Items: []}

setblock -371 31 210 yellow_bed[facing=west]
setblock -372 31 210 yellow_bed[facing=west,part=head]

setblock -305 31 142 red_bed[facing=north]
setblock -305 31 141 red_bed[facing=north,part=head]

setblock -237 31 208 lime_bed[facing=east]
setblock -236 31 208 lime_bed[facing=east,part=head]

setblock -303 31 276 blue_bed[facing=south]
setblock -303 31 277 blue_bed[facing=south,part=head]


execute if score bw.mode state matches 1 run setblock -371 31 210 air
execute if score bw.mode state matches 1 run setblock -372 31 210 air

execute if score bw.mode state matches 1 run setblock -305 31 142 air
execute if score bw.mode state matches 1 run setblock -305 31 141 air

execute if score bw.mode state matches 1 run setblock -237 31 208 air
execute if score bw.mode state matches 1 run setblock -236 31 208 air

execute if score bw.mode state matches 1 run setblock -303 31 276 air
execute if score bw.mode state matches 1 run setblock -303 31 277 air

execute if score bw.mode state matches 1 run tellraw @a[tag=bw.player] ["\n   \u00a7c\u00a7l无床模式\u00a76已启用。\n"]
execute if score bw.mode state matches 5 run tellraw @a[tag=bw.player] ["\n   \u00a7c\u00a7l无床模式\u00a76已启用。\n"]
execute if score bw.mode state matches 2 run tellraw @a[tag=bw.player] ["\n   \u00a7a\u00a7l全解锁模式\u00a76已启用。\n"]
execute if score bw.mode state matches 6 run tellraw @a[tag=bw.player] ["\n   \u00a7a\u00a7l全解锁模式\u00a76已启用。\n"]

execute if score bw.mode state matches 2 run tag @a[tag=bw.player] add bw.attack
execute if score bw.mode state matches 2 run tag @a[tag=bw.player] add bw.armor
execute if score bw.mode state matches 2 run tag @a[tag=bw.player] add bw.speed
execute if score bw.mode state matches 2 run tag @a[tag=bw.player] add bw.fastii

execute if score bw.mode state matches 6 run tag @a[tag=bw.player] add bw.attack
execute if score bw.mode state matches 6 run tag @a[tag=bw.player] add bw.armor
execute if score bw.mode state matches 6 run tag @a[tag=bw.player] add bw.speed
execute if score bw.mode state matches 6 run tag @a[tag=bw.player] add bw.fastii


execute if score bw.mode state matches 5 run setblock -371 31 210 air
execute if score bw.mode state matches 5 run setblock -372 31 210 air

execute if score bw.mode state matches 5 run setblock -305 31 142 air
execute if score bw.mode state matches 5 run setblock -305 31 141 air

execute if score bw.mode state matches 5 run setblock -237 31 208 air
execute if score bw.mode state matches 5 run setblock -236 31 208 air

execute if score bw.mode state matches 5 run setblock -303 31 276 air
execute if score bw.mode state matches 5 run setblock -303 31 277 air

scoreboard players set bw.state state 1
